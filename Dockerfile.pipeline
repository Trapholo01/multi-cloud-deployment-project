# Multi-Cloud CI/CD Pipeline Container
FROM node:18-alpine

# Install essential tools
RUN apk add --no-cache \
    bash \
    git \
    curl \
    zip \
    jq

# Create workspace directory
WORKDIR /workspace

# Copy pipeline scripts
COPY scripts/ /scripts/

# Make scripts executable
RUN chmod +x /scripts/*.sh

# Create artifacts directory
RUN mkdir -p /artifacts

# Set working directory
WORKDIR /workspace

# Default command - runs the full pipeline
CMD ["/scripts/run-pipeline.sh"]